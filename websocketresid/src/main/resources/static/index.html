<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>index</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!-- import Vue.js -->
    <script src="//vuejs.org/js/vue.min.js"></script>
    <!-- import stylesheet -->
    <link rel="stylesheet" href="//unpkg.com/iview/dist/styles/iview.css">
    <!-- import iView -->
    <script src="//unpkg.com/iview/dist/iview.min.js"></script>
    <script src="//unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://cdn.bootcss.com/sockjs-client/1.1.4/sockjs.min.js"></script>
    <script src="https://cdn.bootcss.com/stomp.js/2.3.3/stomp.min.js"></script>
</head>
<body>

<div id="loginInfo">
    <i-form label-width="80" inline ref= 'formItem' :model="formItem"  :rules='ruleValidate' id='loginForm' v-if="isNotLogin">
        <form-item label="用户名" prop="username">
            <i-input v-model="formItem.username"  placeholder="输入用户名..." name="username" clearable>
                <Icon type="ios-person-outline" slot="prepend"></Icon>
            </i-input>
        </form-item>
        <form-item label="密码" prop="password">
            <i-input v-model="formItem.password"  type="password" password placeholder="输入密码..." name="password">
                <Icon type="ios-lock-outline" slot="prepend"></Icon>
            </i-input>
        </form-item>
        <form-item>
            <i-button type="primary" @click="handleSubmit('formItem')">登录</i-button>
        </form-item>
    </i-form>

    <div v-else>
        <p>websocket链接控制</p>
        <i-switch size="large" v-model="isConnected" @on-change="change">
            <span slot="open">ON</span>
            <span slot="close">OFF</span>
        </i-switch>
        <Row type="flex" class="code-row-bg" align="middle" :gutter="15">
            <i-col span="6"><i-button type="info" @click="sendReceiveInfo">发送消息</i-button></i-col>
        </Row>
        <p id="response"></p>
    </div>
</div>

<script src="js/index.js"></script>
</body>
</html>